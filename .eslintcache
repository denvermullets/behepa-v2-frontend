[{"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/index.js":"1","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/App.js":"2","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/Leaderboard.js":"3","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/Navbar.js":"4","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/PlayerProfile.js":"5","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/Home.js":"6","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/ClanRoster.js":"7","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/ClanEvent.js":"8","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/RosterList.js":"9","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/EventForm.js":"10","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/SearchPlayer.js":"11","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/EventList.js":"12","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/SegmentEvent.js":"13","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/Alternate.js":"14","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/FireTeam.js":"15"},{"size":245,"mtime":1608247951400,"results":"16","hashOfConfig":"17"},{"size":1158,"mtime":1608247951398,"results":"18","hashOfConfig":"17"},{"size":170,"mtime":1608294419160,"results":"19","hashOfConfig":"17"},{"size":1508,"mtime":1608294404340,"results":"20","hashOfConfig":"17"},{"size":4061,"mtime":1608293463404,"results":"21","hashOfConfig":"17"},{"size":195,"mtime":1608294417712,"results":"22","hashOfConfig":"17"},{"size":201,"mtime":1608294414754,"results":"23","hashOfConfig":"17"},{"size":1516,"mtime":1608294412288,"results":"24","hashOfConfig":"17"},{"size":159,"mtime":1608294408309,"results":"25","hashOfConfig":"17"},{"size":2828,"mtime":1608496643453,"results":"26","hashOfConfig":"17"},{"size":455,"mtime":1608294410006,"results":"27","hashOfConfig":"17"},{"size":778,"mtime":1608294400604,"results":"28","hashOfConfig":"17"},{"size":2956,"mtime":1608250062035,"results":"29","hashOfConfig":"17"},{"size":517,"mtime":1608294392326,"results":"30","hashOfConfig":"17"},{"size":2152,"mtime":1608294402455,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1m337p7",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/index.js",[],["65","66"],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/App.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/Leaderboard.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/Navbar.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/PlayerProfile.js",["67","68","69","70"],"import React, { useState, useEffect } from \"react\"\nimport { Button } from \"semantic-ui-react\"\nimport queryString from \"query-string\"\n\nconst auth_token = queryString.parse(window.location.search) // puts query params into object // auth_token.code //\nconst AUTH_URL = `https://www.bungie.net/en/oauth/authorize?client_id=${process.env.REACT_APP_BUNGIE_OAUTH_ID}&response_type=code`\nconst AUTH_HEADER = `Basic MjkyNzA6Y04tVWdGZVVtMDJnUE9haVFXRmhKUGxoWk5pajFwNUVLVkhoUC1vSnVsQQ==`\nconst HEADERS = {\n  \"content-type\": \"application/x-www-form-urlencoded\",\n  Authorization: AUTH_HEADER,\n}\n\n// a lot of the OAuth logic is based on the code Josh shared, you can find his project here:\n// https://github.com/joshhunt/ghost-site\n\nconst PlayerProfile = () => {\n  const [bungieAuth, setBungieAuth] = useState()\n  const [authError, setAuthError] = useState()\n\n  const updateLocalStorage = (authReturn) => {\n    // we need to set the expiration date of the AuthAccessToken and Refresh token before pushing to local storage\n    const now = new Date()\n    authReturn.accessTokenExpiresDate = new Date().setSeconds(\n      now.getSeconds() + authReturn.expires_in\n    )\n    authReturn.refreshTokenExpiresDate = new Date().setSeconds(\n      now.getSeconds() + authReturn.refresh_expires_in\n    )\n\n    setBungieAuth(authReturn)\n    localStorage.setItem(\"behepa\", JSON.stringify(authReturn))\n  }\n\n  // 1\n  // determine if there's some previous user login info\n  useEffect(() => {\n    // load local storage to see if previously authenticated\n    const behepaLocalStorage = JSON.parse(\n      localStorage.getItem(\"behepa\" || \"{}\")\n    )\n\n    // if (!behepaLocalStorage.access_token) {\n    if (!behepaLocalStorage) {\n      // if no access_token found in localStorage skip to next useEffect\n      return\n    }\n\n    // we're going to check to see if any of our previous auths have expired\n    behepaLocalStorage.accessTokenExpiresDate = new Date(\n      behepaLocalStorage.accessTokenExpiresDate\n    )\n    behepaLocalStorage.refreshTokenExpiresDate = new Date(\n      behepaLocalStorage.refreshTokenExpiresDate\n    )\n\n    const now = new Date()\n    if (behepaLocalStorage.accessTokenExpiresDate > now) {\n      // auth isn't expired yet, set to state and gtfo\n      setBungieAuth(behepaLocalStorage)\n      return\n    }\n\n    if (behepaLocalStorage.refreshTokenExpiresDate > now) {\n      // it's busted son, lemme get at dat new new\n      // aka we're going to refresh the auth\n      fetch(\"https://www.bungie.net/Platform/App/OAuth/Token/\", {\n        method: \"POST\",\n        body: `grant_type=refresh_token&refresh_token=${behepaLocalStorage.refresh_token}`,\n        headers: HEADERS,\n      })\n        .then((response) => response.json())\n        .then((authReturn) => {\n          if (authReturn.access_token) {\n            updateLocalStorage(authReturn)\n          } else if (authReturn.error_description) {\n            setAuthError(authReturn.error_description)\n          }\n        })\n    }\n  }, [])\n\n  // 2\n  // usually going to be updated on redirect from Bungie auth\n  useEffect(() => {\n    // if there's an auth token then let's make the POST req to get our AuthAccessToken\n    if (!auth_token.code) {\n      return\n    }\n\n    fetch(\"https://www.bungie.net/Platform/App/OAuth/Token/\", {\n      method: \"POST\",\n      body: `grant_type=authorization_code&code=${auth_token.code}`,\n      headers: HEADERS,\n    })\n      .then((response) => response.json())\n      .then((authReturn) => {\n        if (authReturn.access_token) {\n          updateLocalStorage(authReturn)\n        } else if (authReturn.error_description) {\n          setAuthError(authReturn.error_description)\n        }\n      })\n    // remove auth_token code from url\n    let uri = window.location.toString()\n    if (uri.indexOf(\"?\") > 0) {\n      let clean_uri = uri.substring(0, uri.indexOf(\"?\"))\n      window.history.replaceState({}, document.title, clean_uri)\n    }\n  }, [])\n\n  return (\n    <>\n      {/* <Button onClick={() => window.location = AUTH_URL }>Login w/Bungie</Button> */}\n    </>\n  )\n}\n\nexport default PlayerProfile\n","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/Home.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/ClanRoster.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/containers/ClanEvent.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/RosterList.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/EventForm.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/SearchPlayer.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/EventList.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/SegmentEvent.js",["71","72"],"import React, { Component } from \"react\"\nimport * as moment from \"moment\"\nimport { Segment, Header, Divider, Button, List, Icon } from \"semantic-ui-react\"\nimport FireTeam from \"./FireTeam\"\nimport Alternate from \"./Alternate\"\n\n// events are about to be removed with d2 expansion beyond light - update list\nconst destinyEvents = {\n  levi: \"Leviathan\",\n  eow: \"Leviathan, Eater of Worlds\",\n  sos: \"Leviathan, Spire of Stars\",\n  lw: \"Last Wish\",\n  sotp: \"Scourge of the Past\",\n  cos: \"Crown of Sorrow\",\n  gos: \"Garden of Salvation\",\n  nf: \"Nightfall\",\n}\n\nclass SegmentEvent extends Component {\n  state = {\n    fireTeam: [],\n  }\n\n  componentDidMount() {\n    this.loadFireTeam(this.props.eventDetails.id)\n  }\n\n  loadFireTeam = (id) => {\n    fetch(`http://localhost:3000/user_events/${id}`)\n      .then((response) => response.json())\n      .then((fireTeam) => this.setState({ fireTeam }))\n  }\n\n  joinFireTeam = (id, isAlternate) => {\n    fetch(\"http://localhost:3000/user_events\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        user_id: 1,\n        event_id: id,\n        alternate: isAlternate,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((response) => response.json())\n      .then((fireTeam) =>\n        this.setState({ fireTeam: [...this.state.fireTeam, fireTeam] })\n      )\n  }\n\n  render() {\n    const {\n      activity,\n      description,\n      event_time,\n      helper,\n      id,\n    } = this.props.eventDetails\n\n    let fireTeamAlternates = this.state.fireTeam.filter((isAlternate) => {\n      return isAlternate.alternate === true\n    })\n\n    let fireTeamMain = this.state.fireTeam.filter((alternate) => {\n      return alternate.alternate === false\n    })\n\n    return (\n      <div>\n        <Segment color=\"teal\" padded clearing>\n          <Header as=\"h3\" color=\"teal\">\n            {destinyEvents[activity]}\n            <Button.Group floated=\"right\">\n              <Button onClick={(e) => this.joinFireTeam(id, false)}>\n                Join\n              </Button>\n              <Button onClick={(e) => this.joinFireTeam(id, true)}>\n                Alternate\n              </Button>\n              <Button>Leave</Button>\n            </Button.Group>\n            <Header.Subheader>\n              {moment(event_time).format(\"MMMM Do, h:mm a\")}\n            </Header.Subheader>\n          </Header>\n          <Divider />\n          {description}\n          {fireTeamMain.length > 0 ? (\n            <Header as=\"h4\" color=\"green\">\n              Fireteam:\n            </Header>\n          ) : null}\n          <List horizontal verticalAlign=\"middle\">\n            {fireTeamMain.map((guardian) => (\n              <FireTeam key={guardian.id} guardian={guardian} />\n            ))}\n          </List>\n          {fireTeamAlternates.length > 0 ? (\n            <Alternate alternate={fireTeamAlternates} />\n          ) : null}\n        </Segment>\n      </div>\n    )\n  }\n}\n\nexport default SegmentEvent\n","/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/Alternate.js",[],"/Users/denvermullets/Development/Mod5/behepa/behepa-v2-frontend/src/components/FireTeam.js",["73","74"],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":2,"column":10,"nodeType":"81","messageId":"82","endLine":2,"endColumn":16},{"ruleId":"79","severity":1,"message":"83","line":6,"column":7,"nodeType":"81","messageId":"82","endLine":6,"endColumn":15},{"ruleId":"79","severity":1,"message":"84","line":17,"column":10,"nodeType":"81","messageId":"82","endLine":17,"endColumn":20},{"ruleId":"79","severity":1,"message":"85","line":18,"column":10,"nodeType":"81","messageId":"82","endLine":18,"endColumn":19},{"ruleId":"79","severity":1,"message":"86","line":3,"column":50,"nodeType":"81","messageId":"82","endLine":3,"endColumn":54},{"ruleId":"79","severity":1,"message":"87","line":57,"column":7,"nodeType":"81","messageId":"82","endLine":57,"endColumn":13},{"ruleId":"88","severity":1,"message":"89","line":34,"column":6,"nodeType":"90","endLine":34,"endColumn":8,"suggestions":"91"},{"ruleId":"88","severity":1,"message":"92","line":48,"column":6,"nodeType":"90","endLine":48,"endColumn":14,"suggestions":"93"},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'AUTH_URL' is assigned a value but never used.","'bungieAuth' is assigned a value but never used.","'authError' is assigned a value but never used.","'Icon' is defined but never used.","'helper' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.guardian.user_id'. Either include it or remove the dependency array.","ArrayExpression",["96"],"React Hook useEffect has a missing dependency: 'playerInfoLoaded'. Either include it or remove the dependency array.",["97"],"no-global-assign","no-unsafe-negation",{"desc":"98","fix":"99"},{"desc":"100","fix":"101"},"Update the dependencies array to be: [props.guardian.user_id]",{"range":"102","text":"103"},"Update the dependencies array to be: [player, playerInfoLoaded]",{"range":"104","text":"105"},[1295,1297],"[props.guardian.user_id]",[1662,1670],"[player, playerInfoLoaded]"]